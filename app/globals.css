@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* --- Core Tiptap Reset --- */
  .tiptap {
    outline: none !important;
  }

  /* --- Placeholder Styling --- */
  .tiptap p.is-editor-empty:first-child::before {
    @apply text-slate-400 float-left h-0 pointer-events-none italic;
    content: attr(data-placeholder);
  }

  /* --- WordPress Style Heading Hierarchy --- */
  .prose h1 {
    @apply text-5xl font-extrabold mb-8 mt-10 text-slate-900 border-b-2 pb-4 border-slate-100;
  }
  .prose h2 {
    @apply text-4xl font-bold mb-6 mt-8 text-slate-800;
  }
  .prose h3 {
    @apply text-2xl font-bold mb-4 mt-6 text-slate-800;
  }
  .prose h4 {
    @apply text-xl font-semibold mb-3 mt-4 text-slate-700;
  }
  .prose h5 {
    @apply text-lg font-bold mb-2 mt-4 text-slate-600;
  }
  .prose h6 {
    @apply text-base font-bold mb-2 mt-4 text-slate-500 uppercase tracking-widest;
  }

  /* --- Professional Blockquote --- */
  .prose blockquote {
    @apply border-l-8 border-blue-600 bg-blue-50/50 py-8 px-10 my-10 italic text-slate-700 text-2xl rounded-r-3xl font-serif shadow-sm;
  }

  /* --- Lists (Bullets & Numbers) --- */
  .prose ul:not([data-type="taskList"]) {
    @apply list-disc ml-8 mb-6 space-y-2;
  }
  .prose ol {
    @apply list-decimal ml-8 mb-6 space-y-2;
  }

  /* --- Task List / Checkboxes --- */
  .prose ul[data-type="taskList"] {
    list-style: none;
    padding: 0;
    margin: 1.5rem 0;
  }
  .prose ul[data-type="taskList"] li {
    @apply flex items-start gap-4 mb-3;
  }
  .prose ul[data-type="taskList"] input[type="checkbox"] {
    @apply mt-1.5 h-5 w-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer;
  }

  /* --- FIXED: Text Alignment Support --- */
  /* Using standard CSS to avoid Tailwind circular dependency errors */
  .prose .text-left { text-align: left; }
  .prose .text-center { text-align: center; }
  .prose .text-right { text-align: right; }
  .prose .text-justify { text-align: justify; }

  /* --- Professional Tables & Resizing --- */
  .prose table {
    @apply border-collapse w-full my-10 border-2 border-slate-200 overflow-hidden rounded-lg;
    table-layout: fixed;
  }
  .prose th, .prose td {
    @apply border border-slate-200 p-4 text-sm relative;
    min-width: 100px;
    vertical-align: top;
  }
  .prose th {
    @apply bg-slate-50 font-bold text-slate-700;
    text-align: left;
  }
  
  /* Table Resize Handle */
  .prose .column-resize-handle {
    @apply absolute right-[-2px] top-0 bottom-0 w-[4px] bg-blue-400 cursor-col-resize opacity-0 transition-opacity;
    pointer-events: none;
  }
  .prose table:hover .column-resize-handle {
    @apply opacity-100;
  }
  .prose .selectedCell:after {
    @apply z-10 content-[''] absolute inset-0 bg-blue-400/10 pointer-events-none;
  }

  /* --- Media (YouTube & Images) --- */
  .prose [data-youtube-video] {
    @apply aspect-video w-full my-12 rounded-3xl shadow-2xl overflow-hidden border-[12px] border-white ring-1 ring-slate-200 mx-auto;
  }
  .prose img {
    @apply rounded-2xl shadow-xl my-10 mx-auto transition-transform hover:scale-[1.01];
  }

  /* --- Links --- */
  .prose a {
    @apply text-blue-600 font-bold decoration-blue-200 decoration-2 underline-offset-4 hover:decoration-blue-600 transition-all cursor-pointer;
  }
}